<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#C14424" data-link-color="#C14424"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-10-01T18:55:35.1240666"><title>MVC | Backend Typescript</title><script type="application/json" id="virtual-toc-data">[{"id":"z75ewef_2","level":0,"title":"Паттерн MVC","anchor":"#z75ewef_2"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="MVC | Backend Typescript"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Backend Typescript Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//1.0.0/mvc.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="MVC | Backend Typescript"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//1.0.0/mvc.html#webpage",
    "url": "writerside-documentation//1.0.0/mvc.html",
    "name": "MVC | Backend Typescript",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Backend Typescript Help"
}</script><!-- End Schema.org --></head><body data-id="MVC" data-main-title="MVC" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="_ExpressJS.topic|ExpressJS"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Backend Typescript 1.0.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="MVC" id="MVC.topic">MVC</h1><section class="chapter"><h2 id="z75ewef_2" data-toc="z75ewef_2">Паттерн MVC</h2><section class="chapter"><h3 id="z75ewef_3" data-toc="z75ewef_3">Что такое MVC</h3><p id="z75ewef_7"><span class="tooltip" id="z75ewef_10" title="Архитектурный шаблон разделения на Модель, Представление и Контроллер">MVC</span> &mdash; архитектурный шаблон, который делит приложение на три независимых компонента: <span class="tooltip" id="z75ewef_11" title="Доменные данные и правила их изменения; источник правды предметной области">Модель</span>, <span class="tooltip" id="z75ewef_12" title="Слой форматирования ответа (HTML/JSON/и т.п.), не содержит бизнес-логики">Представление</span> и <span class="tooltip" id="z75ewef_13" title="Слой, преобразующий HTTP-запросы в вызовы доменной логики и формирующий ответы">Контроллер</span>. Такая декомпозиция уменьшает связность кода, упрощает тестирование и параллельную разработку, а также делает систему предсказуемой при росте сложности.</p><ul class="list _bullet" id="z75ewef_8"><li class="list__item" id="z75ewef_14"><p><span id="z75ewef_17"><b>Модель (Model)</b></span> &mdash; хранит состояние и инкапсулирует бизнес-правила. Она не знает о веб-запросах и разметке. В веб-приложениях часто дополняется <span class="tooltip" id="z75ewef_18" title="Компоненты, реализующие бизнес-сценарии поверх моделей/репозиториев">сервисным слоем</span> и <span class="tooltip" id="z75ewef_19" title="Слой доступа к данным (БД/внешние сервисы), инкапсулирующий детали хранения">репозиторием</span> для работы с данными.</p></li><li class="list__item" id="z75ewef_15"><p><span id="z75ewef_20"><b>Представление (View)</b></span> &mdash; отвечает за отображение. Получает готовые данные и рендерит HTML (или JSON, PDF и т.п.). Не содержит бизнес-логики.</p></li><li class="list__item" id="z75ewef_16"><p><span id="z75ewef_21"><b>Контроллер (Controller)</b></span> &mdash; связывает <span class="tooltip" id="z75ewef_22" title="Модуль Express (Router) для группировки и подключения маршрутов">маршруты</span> с бизнес-действиями: получает запрос, вызывает модель/сервисы, выбирает представление и формирует ответ.</p></li></ul><aside class="prompt" data-type="note" data-title="" id="z75ewef_9"><p>Чёткое разделение обязанностей облегчает замену любого слоя: например, вы можете сменить <span class="tooltip" id="z75ewef_23" title="Инструмент серверного рендеринга HTML на основе шаблонов">шаблонизатор</span> с EJS на Pug, не меняя контроллеры и сервисы.</p></aside></section><section class="chapter"><h3 id="z75ewef_4" data-toc="z75ewef_4">Теория и мотивация</h3><p id="z75ewef_24">Главная идея &mdash; изоляция <span id="z75ewef_27"><b>знаний</b></span> каждого слоя. <span class="tooltip" id="z75ewef_28" title="Слой, преобразующий HTTP-запросы в вызовы доменной логики и формирующий ответы">Контроллер</span> не должен &laquo;думать&raquo; о правилах домена, <span class="tooltip" id="z75ewef_29" title="Слой форматирования ответа (HTML/JSON/и т.п.), не содержит бизнес-логики">представление</span> &mdash; о доступе к данным, а <span class="tooltip" id="z75ewef_30" title="Доменные данные и правила их изменения; источник правды предметной области">модель</span> &mdash; о HTTP-деталях. Это снижает <span id="z75ewef_31"><b>связанность</b></span> и повышает <span id="z75ewef_32"><b>согласованность</b></span> кода.</p><ul class="list _bullet" id="z75ewef_25"><li class="list__item" id="z75ewef_33"><p><span id="z75ewef_36"><b>Тестируемость</b></span>: бизнес-правила в моделях/сервисах можно тестировать без HTTP и шаблонов.</p></li><li class="list__item" id="z75ewef_34"><p><span id="z75ewef_37"><b>Расширяемость</b></span>: новые точки ввода (REST, GraphQL, очередь задач) переиспользуют те же сервисы.</p></li><li class="list__item" id="z75ewef_35"><p><span id="z75ewef_38"><b>Командная работа</b></span>: фронтенд/верстка работают над представлениями, бэкенд &mdash; над моделями/сервисами.</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="z75ewef_26"><p>В MVC полезно придерживаться принципа <span class="tooltip" id="z75ewef_39" title="Принцип единственной ответственности: один модуль — одна причина для изменения">Single Responsibility</span>: &laquo;один файл &mdash; одна роль&raquo; и &laquo;один слой &mdash; один тип логики&raquo;.</p></aside></section><section class="chapter"><h3 id="z75ewef_5" data-toc="z75ewef_5">Правила реализации (практические) </h3><ul class="list _bullet" id="z75ewef_40"><li class="list__item" id="z75ewef_43"><p><span id="z75ewef_51"><b>Контроллеры &mdash; тонкие</b></span>: принимают вход, валидируют его через <span class="tooltip" id="z75ewef_52" title="Data Transfer Object — объект для передачи данных между слоями приложения">DTO</span>/<span class="tooltip" id="z75ewef_53" title="Проверка входных данных на соответствие правилам до бизнес-логики">валидаторы</span>, вызывают сервисы, выбирают тип ответа.</p></li><li class="list__item" id="z75ewef_44"><p><span id="z75ewef_54"><b>Сервисы &mdash; умные</b></span>: содержат бизнес-инварианты, транзакции, оркестрацию нескольких репозиториев/шлюзов.</p></li><li class="list__item" id="z75ewef_45"><p><span id="z75ewef_55"><b>Модели &mdash; источник правды</b></span>: типы/классы предметной области, фабрики, методы домена, события.</p></li><li class="list__item" id="z75ewef_46"><p><span id="z75ewef_56"><b>Репозитории &mdash; изоляция хранения</b></span>: любая СУБД/кэш/файл скрыты за интерфейсом.</p></li><li class="list__item" id="z75ewef_47"><p><span id="z75ewef_57"><b>Представления &mdash; только рендер</b></span>: минимальная логика форматирования, ноль бизнес-правил.</p></li><li class="list__item" id="z75ewef_48"><p><span id="z75ewef_58"><b>Маршрутизатор</b></span>: только маппинг HTTP-метод + путь &rarr; контроллер + middleware.</p></li><li class="list__item" id="z75ewef_49"><p><span id="z75ewef_59"><b>Ошибки и ответы</b></span>: единый формат JSON-ошибок, централизованный обработчик исключений.</p></li><li class="list__item" id="z75ewef_50"><p><span id="z75ewef_60"><b>Стандарты по папкам</b></span>: /controllers, /services, /models, /repositories, /routes, /views, /middlewares, /validators.</p></li></ul><aside class="prompt" data-type="warning" data-title="" id="z75ewef_41"><p>&laquo;Толстые контроллеры&raquo; и &laquo;умные представления&raquo; приводят к дублированию логики и труднодиагностируемым ошибкам. Держите правила домена вне HTTP слоя, иначе миграция на другой транспорт (например, очередь) станет болезненной.</p></aside><aside class="prompt" data-type="note" data-title="" id="z75ewef_42"><p>Даже если <span class="tooltip" id="z75ewef_61" title="Архитектурный стиль работы веб-API с использованием ресурсов и HTTP-методов">REST</span>-эндпоинт возвращает JSON, <span id="z75ewef_62"><b>V</b></span> остаётся слоем представления &mdash; форматтером данных (сериализатором), просто без HTML.</p></aside></section><section class="chapter"><h3 id="z75ewef_6" data-toc="z75ewef_6">Грамотное построение MVC на Express</h3><section class="chapter"><h4 id="z75ewef_63" data-toc="z75ewef_63">Цели и общий план</h4><p id="z75ewef_73"><span class="tooltip" id="z75ewef_74" title="Минималистичный веб-фреймворк для Node.js для создания HTTP-серверов и API">Express</span> &mdash; минималистичный фреймворк, поэтому структуру MVC определяете вы. Мы отделим <code class="code" id="z75ewef_75">routes</code> (маршруты), <code class="code" id="z75ewef_76">controllers</code> (HTTP-координация), <code class="code" id="z75ewef_77">services</code> (бизнес-логика), <code class="code" id="z75ewef_78">repositories</code> (данные), <code class="code" id="z75ewef_79">models</code> (доменные типы), <code class="code" id="z75ewef_80">views</code> (EJS/Pug), <code class="code" id="z75ewef_81">middlewares</code> (сквозные политики) и <code class="code" id="z75ewef_82">validators</code> (<span class="tooltip" id="z75ewef_83" title="Data Transfer Object — объект для передачи данных между слоями приложения">DTO</span>).</p></section><section class="chapter"><h4 id="z75ewef_64" data-toc="z75ewef_64">Структура проекта</h4><div class="code-block" data-lang="bash">.


├── package.json
├── src
│   ├── app.js
│   ├── routes
│   │   └── todos.routes.js
│   ├── controllers
│   │   └── todos.controller.js
│   ├── services
│   │   └── todos.service.js
│   ├── repositories
│   │   └── todo.repository.js
│   ├── models
│   │   └── todo.model.js
│   ├── validators
│   │   └── todo.dto.js
│   ├── middlewares
│   │   ├── error.middleware.js
│   │   └── notFound.middleware.js
│   └── views
│       ├── layouts
│       │   └── main.pug
│       └── todos
│           ├── index.pug
│           └── show.pug
└── .env</div><aside class="prompt" data-type="note" data-title="" id="z75ewef_85"><p>Папки &mdash; это &laquo;границы&raquo; слоёв. Они помогают удерживать MVC-дисциплину и облегчают навигацию по проекту.</p></aside></section><section class="chapter"><h4 id="z75ewef_65" data-toc="z75ewef_65">Модель и репозиторий</h4><p id="z75ewef_86">Начнём с доменной модели и хранилища (для простоты &mdash; в памяти). В реальном проекте репозиторий инкапсулирует доступ к базе, а модель описывает инварианты сущности.</p><div class="code-block" data-lang="javascript">
                    /* src/models/todo.model.js */


                    class Todo {
                        constructor(id, title, completed) {
                            this.id = id;
                            this.title = title;
                            this.completed = completed;
                        }
                    }

                    module.exports = {Todo};</div><div class="code-block" data-lang="javascript">
                    /* src/repositories/todo.repository.js */


                    const {Todo} = require(&quot;../models/todo.model.js&quot;);

                    const _store = []; // Демонстрационный ин-мемори &quot;склад&quot;

                    function nextId() {
                        return String(Date.now());
                    }

                    class TodoRepository {
                        async findAll() {
                            return _store;
                        }

                        async findById(id) {
                            return _store.find(t =&gt; t.id === id) || null;
                        }

                        async create(title) {
                            const entity = new Todo(nextId(), title, false);
                            _store.push(entity);
                            return entity;
                        }

                        async toggle(id) {
                            const entity = await this.findById(id);
                            if (!entity) return null;
                            entity.completed = !entity.completed;
                            return entity;
                        }
                    }

                    module.exports = {TodoRepository};</div><aside class="prompt" data-type="tip" data-title="" id="z75ewef_89"><p>Даже для <span class="tooltip" id="z75ewef_90" title="Значения, не являющиеся объектами и не имеющие методов">примитивного</span> списка лучше скрыть детали хранения в репозитории &mdash; это позволит безболезненно перейти на БД.</p></aside></section><section class="chapter"><h4 id="z75ewef_66" data-toc="z75ewef_66">DTO и валидация</h4><p id="z75ewef_91"><span class="tooltip" id="z75ewef_94" title="Data Transfer Object — объект для передачи данных между слоями приложения">DTO</span> фиксирует контракт входных данных. В маленьких проектах можно валидировать вручную &mdash; важно держать проверку на границе контроллера.</p><div class="code-block" data-lang="javascript">
                    /* src/validators/todo.dto.js */


                    class CreateTodoDto {
                        constructor(body) {
                            this.title = typeof body.title === &quot;string&quot; ? body.title.trim() : &quot;&quot;;
                        }

                        validate() {
                            const errors = [];
                            if (!this.title) errors.push(&quot;title is required&quot;);
                            if (this.title.length &gt; 140) errors.push(&quot;title too long&quot;);
                            return errors;
                        }
                    }

                    module.exports = {CreateTodoDto};</div><aside class="prompt" data-type="note" data-title="" id="z75ewef_93"><p>Валидация в контроллере защищает сервисы от &laquo;грязного&raquo; ввода, упрощая их логику.</p></aside></section><section class="chapter"><h4 id="z75ewef_67" data-toc="z75ewef_67">Сервис &mdash; бизнес-логика</h4><p id="z75ewef_95">Сервис использует репозиторий, реализует сценарии и инварианты домена.</p><div class="code-block" data-lang="javascript">
                    /* src/services/todos.service.js */


                    const {TodoRepository} = require(&quot;../repositories/todo.repository.js&quot;);

                    class TodosService {
                        constructor(repo = new TodoRepository()) {
                            this.repo = repo;
                        }

                        async list() {
                            return this.repo.findAll();
                        }

                        async create(validatedTitle) {
                            return this.repo.create(validatedTitle);
                        }

                        async toggle(id) {
                            return this.repo.toggle(id);
                        }
                    }

                    module.exports = {TodosService};</div></section><section class="chapter"><h4 id="z75ewef_68" data-toc="z75ewef_68">Контроллер &mdash; координация HTTP</h4><p id="z75ewef_97">Контроллер принимает запрос, создаёт DTO, проверяет ошибки, вызывает сервис и выбирает ответ (<span class="tooltip" id="z75ewef_100" title="Слой форматирования ответа (HTML/JSON/и т.п.), не содержит бизнес-логики">HTML</span> или JSON).</p><div class="code-block" data-lang="javascript">
                    /* src/controllers/todos.controller.js */


                    const {TodosService} = require(&quot;../services/todos.service.js&quot;);
                    const {CreateTodoDto} = require(&quot;../validators/todo.dto.js&quot;);

                    class TodosController {
                        constructor(service = new TodosService()) {
                            this.service = service;
                        }

                        index = async (req, res, next) =&gt; {
                            try {
                                const todos = await this.service.list();
                                if (req.accepts([&quot;html&quot;, &quot;json&quot;]) === &quot;json&quot;) {
                                    return res.json({data: todos});
                                }
                                return res.render(&quot;todos/index&quot;, {title: &quot;Todos&quot;, todos});
                            } catch (e) {
                                next(e);
                            }
                        }

                        create = async (req, res, next) =&gt; {
                            try {
                                const dto = new CreateTodoDto(req.body);
                                const errors = dto.validate();
                                if (errors.length) return res.status(400).json({errors});


                                const todo = await this.service.create(dto.title);
                                // Демонстрационный вывод:
                                console.log(&quot;created:&quot;, todo); // Выведет созданный todo

                                if (req.accepts([&quot;html&quot;, &quot;json&quot;]) === &quot;json&quot;) {
                                    return res.status(201).json({data: todo});
                                }
                                return res.redirect(&quot;/todos&quot;);
                            } catch (e) {
                                next(e);
                            }


                        }

                        toggle = async (req, res, next) =&gt; {
                            try {
                                const todo = await this.service.toggle(req.params.id);
                                if (!todo) return res.status(404).json({error: &quot;Not found&quot;});
                                return res.json({data: todo});
                            } catch (e) {
                                next(e);
                            }
                        }
                    }

                    module.exports = {TodosController};</div><aside class="prompt" data-type="warning" data-title="" id="z75ewef_99"><p>Не смешивайте сериализацию (формирование JSON/HTML) с бизнес-правилами. Это быстро приведёт к дублированию и рассыпанию логики по слоям.</p></aside></section><section class="chapter"><h4 id="z75ewef_69" data-toc="z75ewef_69">Маршруты и middleware</h4><p id="z75ewef_101"><span class="tooltip" id="z75ewef_105" title="Модуль Express (Router) для группировки и подключения маршрутов">Router</span> сопоставляет URL с методами контроллера. Сквозные политики (аутентификация, логирование, ограничение частоты) реализуются как <span class="tooltip" id="z75ewef_106" title="Функция пред-/пост-обработки запроса в цепочке Express">middleware</span>.</p><div class="code-block" data-lang="javascript">
                    /* src/routes/todos.routes.js */


                    const {Router} = require(&quot;express&quot;);
                    const {TodosController} = require(&quot;../controllers/todos.controller.js&quot;);

                    const router = Router();
                    const c = new TodosController();

                    router.get(&quot;/&quot;, c.index);
                    router.post(&quot;/&quot;, c.create);
                    router.patch(&quot;/\:id/toggle&quot;, c.toggle);

                    module.exports = {todosRouter: router};</div><div class="code-block" data-lang="javascript">
                    /* src/middlewares/error.middleware.js */


                    function errorHandler(err, req, res, next) {
                        console.error(err); // Выведет стек ошибки в консоль
                        res.status(500).json({error: &quot;Internal Server Error&quot;});
                    }

                    module.exports = {errorHandler};</div><div class="code-block" data-lang="javascript">
                    /* src/middlewares/notFound.middleware.js */


                    function notFound(req, res, next) {
                        res.status(404).json({error: &quot;Not Found&quot;});
                    }

                    module.exports = {notFound};
</div></section><section class="chapter"><h4 id="z75ewef_70" data-toc="z75ewef_70">Входная точка приложения</h4><div class="code-block" data-lang="javascript">
        /* src/app.js */


        require(&quot;dotenv&quot;).config();
        const express = require(&quot;express&quot;);
        const path = require(&quot;path&quot;);
        const {todosRouter} = require(&quot;./routes/todos.routes.js&quot;);
        const {errorHandler} = require(&quot;./middlewares/error.middleware.js&quot;);
        const {notFound} = require(&quot;./middlewares/notFound.middleware.js&quot;);

        const app = express();

        app.set(&quot;views&quot;, path.join(__dirname, &quot;views&quot;
        ))
        ;
        app.set(&quot;view engine&quot;, &quot;pug&quot;);

        app.use(express.json());
        app.use(express.urlencoded({extended: true}));

        app.use(&quot;/todos&quot;, todosRouter);

        app.get(&quot;/&quot;, (req, res) =&gt; res.redirect(&quot;/todos&quot;));

        app.use(notFound);
        app.use(errorHandler);

        const port = process.env.PORT || 3000;
        app.listen(port, () =&gt; console.log(&quot;HTTP on :&quot; + port)); // Выведет: HTTP on :3000
  </div><aside class="prompt" data-type="tip" data-title="" id="z75ewef_108"><p>Храните порт и секреты в .env, а не в коде. Это упрощает конфигурацию на разных средах.</p></aside><aside class="prompt" data-type="warning" data-title="" id="z75ewef_109"><p>Не забудьте перед использованием шаблонизатора уставить пакет <code class="code" id="z75ewef_110">pug</code></p></aside></section><section class="chapter"><h4 id="z75ewef_71" data-toc="z75ewef_71">Представления (PUG)</h4><p id="z75ewef_111">В HTML-рендеринге представления получают уже подготовленные данные. Ниже &mdash; минимальный пример с макетом и страницами списка/детали.</p><div class="code-block" data-lang="pug">
                    doctype html
                    html
                        head
                            meta(charset=&quot;utf-8&quot;)
                            title= title
                    body
                        #app
                            block content
                </div><div class="code-block" data-lang="pug">
                    extends layouts/main

                    block content
                        h1 Todos

                        form(method=&quot;post&quot;, action=&quot;/todos&quot;)
                            input(type=&quot;text&quot;, name=&quot;title&quot;, placeholder=&quot;What to do?&quot;)
                            button(type=&quot;submit&quot;) Add

                        ul
                            each t in todos
                                li
                                span #{t.title}
                                strong= t.completed ? 'done' : 'open'
                                form(method=&quot;post&quot;, action=&quot;/todos/#{t.id}/toggle?_method=PATCH&quot;)
                                    button(type=&quot;submit&quot;) Toggle
                </div><div class="code-block" data-lang="pug">
                    extends layouts/main

                    block content
                        h1 Todo
                        pre= JSON.stringify(todo, null, 2)
                </div><aside class="prompt" data-type="warning" data-title="" id="z75ewef_115"><p>Не помещайте бизнес-условия (например, проверку лимитов, статусов оплаты) в шаблоны. Представление должно только форматировать уже решённые контроллером/сервисом данные.</p></aside></section><section class="chapter"><h4 id="z75ewef_72" data-toc="z75ewef_72">Лучшие практики и подводные камни</h4><ul class="list _bullet" id="z75ewef_116"><li class="list__item" id="z75ewef_119"><p><span id="z75ewef_124"><b>Идём от домена</b></span>: сначала модель/сервис, потом контроллер/вид. Так вы избежите &laquo;HTTP-зависимых&raquo; правил внутри домена.</p></li><li class="list__item" id="z75ewef_120"><p><span id="z75ewef_125"><b>Единый формат ошибок</b></span>: централизованный <code class="code" id="z75ewef_126">errorHandler</code> упрощает отладку и интеграции.</p></li><li class="list__item" id="z75ewef_121"><p><span id="z75ewef_127"><b>Сериализация</b></span>: для JSON заведите слой сериализаторов/ресурсов (микро-&laquo;V&raquo;) &mdash; они форматируют даты, маскируют поля и т.п.</p></li><li class="list__item" id="z75ewef_122"><p><span id="z75ewef_128"><b>Зависимости</b></span>: инъекция зависимостей в контроллер/сервис облегчает тестирование (можно подменять репозитории).</p></li><li class="list__item" id="z75ewef_123"><p><span id="z75ewef_129"><b>Тонкие маршруты</b></span>: в <code class="code" id="z75ewef_130">routes</code> &mdash; только привязка путей, никакой логики.</p></li></ul><aside class="prompt" data-type="warning" data-title="" id="z75ewef_117"><p>Смешивание слоёв (например, запрос к БД прямо из контроллера) сначала кажется быстрее, но в перспективе резко увеличивает стоимость изменений: тесты ломаются каскадом, повторно использовать бизнес-логику невозможно.</p></aside><aside class="prompt" data-type="note" data-title="" id="z75ewef_118"><p>Если нужно HTML и JSON одновременно &mdash; держите одну бизнес-операцию в сервисе, а в контроллере выбирайте представление (шаблон или JSON) по заголовкам запроса.</p></aside></section></section></section><div class="last-modified">26 сентября 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="cors.html" class="navigation-links__prev">CORS</a><a href="expressexamples.html" class="navigation-links__next">Примеры проектов</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>