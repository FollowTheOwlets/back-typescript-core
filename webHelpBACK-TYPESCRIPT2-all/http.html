<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#C14424" data-link-color="#C14424"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-10-01T18:55:34.9229454"><title>HTTP | Backend Typescript</title><script type="application/json" id="virtual-toc-data">[{"id":"-owak77_2","level":0,"title":"Что такое HTTP и зачем он нужен","anchor":"#-owak77_2"},{"id":"-owak77_3","level":0,"title":"Структура HTTP-сообщений","anchor":"#-owak77_3"},{"id":"-owak77_4","level":0,"title":"Методы и семантика","anchor":"#-owak77_4"},{"id":"-owak77_5","level":0,"title":"Статус-коды: как выбрать корректный","anchor":"#-owak77_5"},{"id":"-owak77_6","level":0,"title":"Заголовки: основы взаимодействия","anchor":"#-owak77_6"},{"id":"-owak77_7","level":0,"title":"Контент-негациация (Content Negotiation)","anchor":"#-owak77_7"},{"id":"-owak77_8","level":0,"title":"Кеширование: быстро и экономно","anchor":"#-owak77_8"},{"id":"-owak77_9","level":0,"title":"Куки и сессии","anchor":"#-owak77_9"},{"id":"-owak77_10","level":0,"title":"Аутентификация и авторизация поверх HTTP","anchor":"#-owak77_10"},{"id":"-owak77_11","level":0,"title":"HTTPS и TLS в двух словах","anchor":"#-owak77_11"},{"id":"-owak77_12","level":0,"title":"HTTP/1.1 vs HTTP/2 vs HTTP/3","anchor":"#-owak77_12"},{"id":"-owak77_13","level":0,"title":"Потоковые ответы, SSE и сравнение с WebSocket","anchor":"#-owak77_13"},{"id":"-owak77_14","level":0,"title":"Прокси, реверс-прокси, CDN","anchor":"#-owak77_14"},{"id":"-owak77_15","level":0,"title":"Безопасность на уровне протокола","anchor":"#-owak77_15"},{"id":"-owak77_16","level":0,"title":"Инструменты: как работать руками и из кода","anchor":"#-owak77_16"},{"id":"-owak77_17","level":0,"title":"Диагностика и типичные ошибки","anchor":"#-owak77_17"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="HTTP | Backend Typescript"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Backend Typescript Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//1.0.0/http.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="HTTP | Backend Typescript"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//1.0.0/http.html#webpage",
    "url": "writerside-documentation//1.0.0/http.html",
    "name": "HTTP | Backend Typescript",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Backend Typescript Help"
}</script><!-- End Schema.org --></head><body data-id="HTTP" data-main-title="HTTP" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="_Backend.topic|Backend"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Backend Typescript 1.0.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="HTTP" id="HTTP.topic">HTTP</h1><section class="chapter"><h2 id="-owak77_2" data-toc="-owak77_2">Что такое HTTP и зачем он нужен</h2><p id="-owak77_18"><span class="tooltip" id="-owak77_21" title="Протокол передачи гипертекста для общения клиента и сервера">HTTP</span> &mdash; прикладной протокол обмена сообщениями между клиентом (обычно браузером или мобильным приложением) и сервером. Он определяет формат <span class="tooltip" id="-owak77_22" title="Структура клиентского сообщения: строка запроса, заголовки и тело">запросов</span> и <span class="tooltip" id="-owak77_23" title="Структура серверного сообщения: строка статуса, заголовки и тело">ответов</span>, поддержку <span class="tooltip" id="-owak77_24" title="Операция над ресурсом (GET, POST, PUT, PATCH, DELETE, ...)">методов</span>, <span class="tooltip" id="-owak77_25" title="Числовой результат обработки запроса (2xx, 3xx, 4xx, 5xx)">статусов</span>, <span class="tooltip" id="-owak77_26" title="Пара ключ:значение, влияющая на обработку запроса/ответа">заголовков</span>, правил кеширования, аутентификации, перенаправлений и многого другого. Поверх HTTP строятся веб-сайты, REST/JSON API, загрузка файлов, стриминг и realtime-механики.</p><ul class="list _bullet" id="-owak77_19"><li class="list__item" id="-owak77_27"><p><span id="-owak77_30"><b>Клиент-сервер</b></span>: клиент инициирует запрос, сервер формирует ответ.</p></li><li class="list__item" id="-owak77_28"><p><span id="-owak77_31"><b>Без сохранения состояния</b></span>: каждый запрос самодостаточен; состояние пользователя хранится вне протокола (например, в <span class="tooltip" id="-owak77_32" title="Пара ключ=значение, сохраняемая браузером и отправляемая серверу с каждым запросом к домену">cookie</span> или <span class="tooltip" id="-owak77_33" title="Криптографическая строка, подтверждающая права клиента при обращении к API">токене</span>).</p></li><li class="list__item" id="-owak77_29"><p><span id="-owak77_34"><b>Расширяемость</b></span>: поведение уточняется заголовками (кеш, язык, формат контента, авторизация и т. п.).</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="-owak77_20"><p>Понимание HTTP на уровне &laquo;сырых&raquo; сообщений помогает диагностировать ошибки, оптимизировать скорость и безопасность приложений.</p></aside></section><section class="chapter"><h2 id="-owak77_3" data-toc="-owak77_3">Структура HTTP-сообщений</h2><section class="chapter"><h3 id="-owak77_35" data-toc="-owak77_35">Запрос (Request)</h3><p id="-owak77_37">Запрос состоит из строки запроса, заголовков и необязательного тела. Строка запроса включает <span class="tooltip" id="-owak77_39" title="Операция над ресурсом (GET, POST, PUT, PATCH, DELETE, ...)">метод</span>, путь <span class="tooltip" id="-owak77_40" title="Строка-идентификатор ресурса (путь, параметры, фрагмент)">URI</span> и версию протокола.</p><div class="code-block" data-lang="http">
GET /api/users?limit=10&amp;page=2 HTTP/1.1
Host: api.example.com
User-Agent: curl/8.5.0
Accept: application/json Authorization:
Bearer &lt;token&gt;

  </div></section><section class="chapter"><h3 id="-owak77_36" data-toc="-owak77_36">Ответ (Response)</h3><p id="-owak77_41">Ответ начинается со строки статуса: версия протокола, <span class="tooltip" id="-owak77_44" title="Числовой результат обработки запроса (2xx, 3xx, 4xx, 5xx)">статус-код</span> и фраза. Далее &mdash; заголовки и тело (опционально).</p><div class="code-block" data-lang="http">


HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
Content-Length: 27
ETag: &quot;W/'1b-abc123'&quot;

{&quot;total&quot;: 2, &quot;items&quot;: []}
</div><aside class="prompt" data-type="note" data-title="" id="-owak77_43"><p>Большинство API возвращают JSON: объявляйте <code class="code" id="-owak77_45">Content-Type: application/json</code> и валидный JSON в теле ответа.</p></aside></section></section><section class="chapter"><h2 id="-owak77_4" data-toc="-owak77_4">Методы и семантика</h2><ul class="list _bullet" id="-owak77_46"><li class="list__item" id="-owak77_49"><p><span id="-owak77_56"><b>GET</b></span> &mdash; получить ресурс; без побочных эффектов; тело запроса обычно не используется.</p></li><li class="list__item" id="-owak77_50"><p><span id="-owak77_57"><b>HEAD</b></span> &mdash; как GET, но без тела ответа; для проверки наличия/метаданных.</p></li><li class="list__item" id="-owak77_51"><p><span id="-owak77_58"><b>POST</b></span> &mdash; создать/выполнить действие; может изменять состояние на сервере.</p></li><li class="list__item" id="-owak77_52"><p><span id="-owak77_59"><b>PUT</b></span> &mdash; полная замена ресурса по идентификатору.</p></li><li class="list__item" id="-owak77_53"><p><span id="-owak77_60"><b>PATCH</b></span> &mdash; частичное изменение ресурса.</p></li><li class="list__item" id="-owak77_54"><p><span id="-owak77_61"><b>DELETE</b></span> &mdash; удалить ресурс.</p></li><li class="list__item" id="-owak77_55"><p><span id="-owak77_62"><b>OPTIONS</b></span> &mdash; запрос поддерживаемых методов/настроек (часто для <span class="tooltip" id="-owak77_63" title="Механизм контроля кросс-доменных запросов между браузером и сервером">CORS</span> preflight).</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="-owak77_47"><p>Соблюдайте <span class="tooltip" id="-owak77_64" title="Свойство операции давать тот же эффект при повторном выполнении.">идемпотентность</span>: GET, PUT, DELETE должны быть предсказуемы при повторе. Это позволяет безопасные ретраи и кэш.</p></aside><aside class="prompt" data-type="warning" data-title="" id="-owak77_48"><p>Не используйте GET для операций, меняющих состояние (например, перевод денег). Это ломает кеширование и может привести к неожиданным эффектам.</p></aside></section><section class="chapter"><h2 id="-owak77_5" data-toc="-owak77_5">Статус-коды: как выбрать корректный</h2><ul class="list _bullet" id="-owak77_65"><li class="list__item" id="-owak77_67"><p><span id="-owak77_71"><b>2xx</b></span> &mdash; успех: 200 OK, 201 Created (с заголовком <code class="code" id="-owak77_72">Location</code>), 204 No Content.</p></li><li class="list__item" id="-owak77_68"><p><span id="-owak77_73"><b>3xx</b></span> &mdash; перенаправления: 301/308 постоянное, 302/303/307 временное.</p></li><li class="list__item" id="-owak77_69"><p><span id="-owak77_74"><b>4xx</b></span> &mdash; ошибка клиента: 400 Bad Request, 401 Unauthorized, 403 Forbidden, 404 Not Found, 409 Conflict, 422 Unprocessable Entity, 429 Too Many Requests.</p></li><li class="list__item" id="-owak77_70"><p><span id="-owak77_75"><b>5xx</b></span> &mdash; ошибка сервера: 500 Internal Server Error, 502 Bad Gateway, 503 Service Unavailable, 504 Gateway Timeout.</p></li></ul><aside class="prompt" data-type="note" data-title="" id="-owak77_66"><p>Возвращайте машиночитаемые ошибки: <code class="code" id="-owak77_76">{&quot;error&quot;:{&quot;code&quot;:&quot;validation_error&quot;,&quot;details&quot;:[...]}}</code> и корректный статус-код.</p></aside></section><section class="chapter"><h2 id="-owak77_6" data-toc="-owak77_6">Заголовки: основы взаимодействия</h2><ul class="list _bullet" id="-owak77_77"><li class="list__item" id="-owak77_78"><p><span id="-owak77_84"><b>Content-Type</b></span> &mdash; тип тела ответа/запроса (например, <code class="code" id="-owak77_85">application/json</code>).</p></li><li class="list__item" id="-owak77_79"><p><span id="-owak77_86"><b>Accept</b></span> &mdash; желаемый формат ответа (контент-негациация).</p></li><li class="list__item" id="-owak77_80"><p><span id="-owak77_87"><b>Authorization</b></span> &mdash; схема авторизации (например, <span class="tooltip" id="-owak77_88" title="Схема авторизации по токену в заголовке Authorization">Bearer</span> или <span class="tooltip" id="-owak77_89" title="Схема авторизации по base64(user:pass) в заголовке Authorization">Basic</span>).</p></li><li class="list__item" id="-owak77_81"><p><span id="-owak77_90"><b>Cache-Control</b></span>, <span id="-owak77_91"><b>ETag</b></span>, <span id="-owak77_92"><b>Last-Modified</b></span> &mdash; управление кешированием.</p></li><li class="list__item" id="-owak77_82"><p><span id="-owak77_93"><b>Range</b></span>, <span id="-owak77_94"><b>Content-Range</b></span> &mdash; частичная загрузка.</p></li><li class="list__item" id="-owak77_83"><p><span id="-owak77_95"><b>X-Request-Id</b></span>, <span id="-owak77_96"><b>Traceparent</b></span> &mdash; корреляция и трассировка.</p></li></ul></section><section class="chapter"><h2 id="-owak77_7" data-toc="-owak77_7">Контент-негациация (Content Negotiation)</h2><p id="-owak77_97">Клиент указывает, в каком виде хочет получить ответ, через <code class="code" id="-owak77_100">Accept</code>, <code class="code" id="-owak77_101">Accept-Language</code>, <code class="code" id="-owak77_102">Accept-Encoding</code>. Сервер выбирает лучший вариант и возвращает соответствующие заголовки.</p><div class="code-block" data-lang="http">
GET /report HTTP/1.1
Host: api.example.com
Accept: application/json, text/csv;q=0.8
Accept-Language: ru,en;q=0.7
Accept-Encoding: gzip, br

HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
Content-Encoding: gzip

{&quot;ok&quot;:true}
</div><aside class="prompt" data-type="tip" data-title="" id="-owak77_99"><p>Поддерживайте минимум gzip/br-сжатие и корректный <code class="code" id="-owak77_103">Content-Type</code> для каждого формата.</p></aside></section><section class="chapter"><h2 id="-owak77_8" data-toc="-owak77_8">Кеширование: быстро и экономно</h2><section class="chapter"><h3 id="-owak77_104" data-toc="-owak77_104">Сильное и условное кеширование</h3><p id="-owak77_106">Кеш снижает задержки и нагрузку. Управляйте им заголовками:</p><ul class="list _bullet" id="-owak77_107"><li class="list__item" id="-owak77_110"><p><span id="-owak77_113"><b>Cache-Control</b></span>: <code class="code" id="-owak77_114">max-age</code>, <code class="code" id="-owak77_115">s-maxage</code>, <code class="code" id="-owak77_116">public/private</code>, <code class="code" id="-owak77_117">no-store</code>, <code class="code" id="-owak77_118">must-revalidate</code>.</p></li><li class="list__item" id="-owak77_111"><p><span id="-owak77_119"><b>ETag</b></span> и <span id="-owak77_120"><b>If-None-Match</b></span> &mdash; условные запросы (304 Not Modified).</p></li><li class="list__item" id="-owak77_112"><p><span id="-owak77_121"><b>Last-Modified</b></span> и <span id="-owak77_122"><b>If-Modified-Since</b></span> &mdash; альтернативный механизм.</p></li></ul><div class="code-block" data-lang="http"> GET /avatars/u123.png HTTP/1.1 Host: cdn.example.com If-None-Match: &quot;W/'a1b2c3'&quot;

HTTP/1.1 304 Not Modified
Cache-Control: public, max-age=604800
ETag: &quot;W/'a1b2c3'&quot;
</div><aside class="prompt" data-type="note" data-title="" id="-owak77_109"><p>304 возвращает только заголовки: клиент использует локальный кеш и не скачивает тело повторно.</p></aside></section><section class="chapter"><h3 id="-owak77_105" data-toc="-owak77_105">Практика для API</h3><ul class="list _bullet" id="-owak77_123"><li class="list__item" id="-owak77_125"><p>Ставьте <code class="code" id="-owak77_128">Cache-Control: no-store</code> для приватных данных.</p></li><li class="list__item" id="-owak77_126"><p>Для справочников и статических данных &mdash; разумный <code class="code" id="-owak77_129">max-age</code> и <code class="code" id="-owak77_130">ETag</code>.</p></li><li class="list__item" id="-owak77_127"><p>Указывайте <code class="code" id="-owak77_131">Vary</code> (например, <code class="code" id="-owak77_132">Vary: Accept-Encoding, Accept</code>), если ответ зависит от заголовков запроса.</p></li></ul><aside class="prompt" data-type="warning" data-title="" id="-owak77_124"><p>Неправильный <code class="code" id="-owak77_133">Vary</code> ломает кэш CDN/прокси: один клиент может получить данные для другого.</p></aside></section></section><section class="chapter"><h2 id="-owak77_9" data-toc="-owak77_9">Куки и сессии</h2><p id="-owak77_134"><span class="tooltip" id="-owak77_137" title="Пара ключ=значение, сохраняемая браузером и отправляемая серверу с каждым запросом к домену">Cookie</span> &mdash; пары ключ=значение, сохраняемые браузером. Сервер устанавливает их через <code class="code" id="-owak77_138">Set-Cookie</code>, а клиент отправляет обратно в заголовке <code class="code" id="-owak77_139">Cookie</code>.</p><ul class="list _bullet" id="-owak77_135"><li class="list__item" id="-owak77_140"><p><span id="-owak77_143"><b>Флаги</b></span>: <code class="code" id="-owak77_144">HttpOnly</code>, <code class="code" id="-owak77_145">Secure</code>, <code class="code" id="-owak77_146">SameSite</code> (Lax/Strict/None), срок, домен, путь.</p></li><li class="list__item" id="-owak77_141"><p><span id="-owak77_147"><b>Сессии</b></span>: сервер хранит состояние в хранилище, а клиент держит идентификатор сессии в cookie.</p></li><li class="list__item" id="-owak77_142"><p><span id="-owak77_148"><b>JWT</b></span>: альтернатива сессиям &mdash; хранение токена у клиента (часто в cookie с <code class="code" id="-owak77_149">HttpOnly</code>).</p></li></ul><aside class="prompt" data-type="warning" data-title="" id="-owak77_136"><p>Для межсайтовых запросов <code class="code" id="-owak77_150">SameSite=None</code> требует <code class="code" id="-owak77_151">Secure</code> и HTTPS, иначе cookie не будут отправлены.</p></aside></section><section class="chapter"><h2 id="-owak77_10" data-toc="-owak77_10">Аутентификация и авторизация поверх HTTP</h2><ul class="list _bullet" id="-owak77_152"><li class="list__item" id="-owak77_154"><p><span id="-owak77_157"><b>Basic</b></span>: <code class="code" id="-owak77_158">Authorization: Basic &lt;base64(user:pass)&gt;</code> &mdash; только через HTTPS.</p></li><li class="list__item" id="-owak77_155"><p><span id="-owak77_159"><b>Bearer</b></span>: <code class="code" id="-owak77_160">Authorization: Bearer &lt;token&gt;</code> &mdash; распространённый способ для API.</p></li><li class="list__item" id="-owak77_156"><p><span id="-owak77_161"><b>Cookies + сессии</b></span>: классическая модель для веб-сайтов.</p></li></ul><aside class="prompt" data-type="warning" data-title="" id="-owak77_153"><p>Никогда не передавайте секреты по HTTP без шифрования. Используйте <span class="tooltip" id="-owak77_162" title="HTTP поверх TLS, обеспечивающий шифрование и аутентификацию сервера">HTTPS</span> повсеместно.</p></aside></section><section class="chapter"><h2 id="-owak77_11" data-toc="-owak77_11">HTTPS и TLS в двух словах</h2><p id="-owak77_163"><span class="tooltip" id="-owak77_165" title="HTTP поверх TLS, обеспечивающий шифрование и аутентификацию сервера">HTTPS</span> &mdash; это HTTP поверх <span class="tooltip" id="-owak77_166" title="Криптографический протокол для защищённой передачи данных по сети">TLS</span>, обеспечивающий шифрование, целостность и аутентификацию сервера (по сертификату). Клиент устанавливает TLS-сеанс, затем передаёт HTTP-сообщения внутри защищённого канала.</p><ul class="list _bullet" id="-owak77_164"><li class="list__item" id="-owak77_167"><p>Преимущества: конфиденциальность, защита от подмены, обязательное требование для современных браузеров (например, для <span class="tooltip" id="-owak77_169" title="Скрипт браузера для офлайн-режима, кеширования и перехвата сетевых запросов">Service Worker</span>, <span class="tooltip" id="-owak77_170" title="Версия протокола с мультиплексированием и бинарным форматом">HTTP/2</span>, cookie).</p></li><li class="list__item" id="-owak77_168"><p>Практика: автоматизируйте выпуск сертификатов (например, ACME/Let&amp;#39;s Encrypt), включайте HSTS.</p></li></ul></section><section class="chapter"><h2 id="-owak77_12" data-toc="-owak77_12">HTTP/1.1 vs HTTP/2 vs HTTP/3</h2><ul class="list _bullet" id="-owak77_171"><li class="list__item" id="-owak77_173"><p><span id="-owak77_176"><b>HTTP/1.1</b></span>: один запрос на соединение; keep-alive; head-of-line blocking на уровне TCP сокетов при последовательных запросах.</p></li><li class="list__item" id="-owak77_174"><p><span id="-owak77_177"><b>HTTP/2</b></span>: мультиплексирование в одном соединении, бинарный формат, сжатие заголовков (HPACK), серверный push (устарел).</p></li><li class="list__item" id="-owak77_175"><p><span id="-owak77_178"><b>HTTP/3</b></span>: поверх QUIC/UDP; устойчивее к потере пакетов, более быстрый hand-shake, отсутствие HOL-блокировок TCP.</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="-owak77_172"><p>На практике включите HTTP/2/3 на балансировщике или CDN &mdash; клиенты автоматически выберут лучший протокол.</p></aside></section><section class="chapter"><h2 id="-owak77_13" data-toc="-owak77_13">Потоковые ответы, SSE и сравнение с WebSocket</h2><ul class="list _bullet" id="-owak77_179"><li class="list__item" id="-owak77_180"><p><span id="-owak77_183"><b>Chunked Transfer</b></span>: сервер отправляет части тела по мере готовности (<code class="code" id="-owak77_184">Transfer-Encoding: chunked</code>).</p></li><li class="list__item" id="-owak77_181"><p><span id="-owak77_185"><b>SSE</b></span> (Server-Sent Events): однонаправленный поток от сервера к клиенту поверх HTTP.</p></li><li class="list__item" id="-owak77_182"><p><span id="-owak77_186"><b>WebSocket</b></span>: двусторонний постоянный канал; не HTTP после апгрейда, но инициируется HTTP-запросом.</p></li></ul></section><section class="chapter"><h2 id="-owak77_14" data-toc="-owak77_14">Прокси, реверс-прокси, CDN</h2><p id="-owak77_187"><span class="tooltip" id="-owak77_189" title="Промежуточный сервер, принимающий клиентские запросы и перенаправляющий их на бэкенды">Реверс-прокси</span> (Nginx, Envoy) принимает запросы от клиентов и проксирует их в бэкенды: выполняет TLS, кеширование, сжатие, балансировку, слияние соединений, ограничения скорости. <span class="tooltip" id="-owak77_190" title="Сеть доставки контента, кэширующая данные ближе к пользователю">CDN</span> кэширует статический и полу-статический контент ближе к пользователю.</p><aside class="prompt" data-type="warning" data-title="" id="-owak77_188"><p>Прокси могут менять и добавлять заголовки. Учитывайте <code class="code" id="-owak77_191">X-Forwarded-For</code>, <code class="code" id="-owak77_192">X-Forwarded-Proto</code> и доверенные прокси при определении IP клиента и схемы.</p></aside></section><section class="chapter"><h2 id="-owak77_15" data-toc="-owak77_15">Безопасность на уровне протокола</h2><ul class="list _bullet" id="-owak77_193"><li class="list__item" id="-owak77_194"><p><span id="-owak77_198"><b>Всегда HTTPS</b></span>: шифрование, HSTS, корректные сертификаты.</p></li><li class="list__item" id="-owak77_195"><p><span id="-owak77_199"><b>CORS</b></span>: разрешайте только ожидаемые источники, не используйте <code class="code" id="-owak77_200">*</code> с credentials.</p></li><li class="list__item" id="-owak77_196"><p><span id="-owak77_201"><b>Заголовки безопасности</b></span>: <code class="code" id="-owak77_202">Content-Security-Policy</code>, <code class="code" id="-owak77_203">X-Content-Type-Options: nosniff</code>, <code class="code" id="-owak77_204">Referrer-Policy</code>, <code class="code" id="-owak77_205">X-Frame-Options</code> или <code class="code" id="-owak77_206">frame-ancestors</code> в CSP.</p></li><li class="list__item" id="-owak77_197"><p><span id="-owak77_207"><b>Размеры и таймауты</b></span>: ограничивайте тело запроса, время ожидания и частоту запросов (<span class="tooltip" id="-owak77_208" title="Ограничение скорости/частоты запросов для защиты сервиса">rate limiting</span>).</p></li></ul></section><section class="chapter"><h2 id="-owak77_16" data-toc="-owak77_16">Инструменты: как работать руками и из кода</h2><section class="chapter"><h3 id="-owak77_209" data-toc="-owak77_209">curl &mdash; швейцарский нож HTTP</h3><div class="code-block" data-lang="bash">
                curl -i -X POST &quot;https://api.example.com/login&quot; \
                -H &quot;Accept: application/json&quot; \
                -H &quot;Content-Type: application/json&quot; \
                --data '{&quot;email&quot;:&quot;user@example.com&quot;,&quot;password&quot;:&quot;secret&quot;}' </div><div class="code-block" data-lang="bash"> curl -I &quot;https://static.example.com/logo.png&quot; # только заголовки (HEAD) </div></section></section><section class="chapter"><h2 id="-owak77_17" data-toc="-owak77_17">Диагностика и типичные ошибки</h2><ul class="list _bullet" id="-owak77_212"><li class="list__item" id="-owak77_214"><p><span id="-owak77_219"><b>Неверный Content-Type</b></span>: JSON без правильного заголовка ломает парсинг на клиенте.</p></li><li class="list__item" id="-owak77_215"><p><span id="-owak77_220"><b>Несогласованные статусы</b></span>: 200 при ошибке логики сбивает клиентов; используйте 4xx/5xx.</p></li><li class="list__item" id="-owak77_216"><p><span id="-owak77_221"><b>Отсутствует кеш-контроль</b></span>: лишняя нагрузка, медленные ответы.</p></li><li class="list__item" id="-owak77_217"><p><span id="-owak77_222"><b>Смешение HTTP и бизнес-ошибок</b></span>: разделяйте транспортный уровень и доменную валидацию.</p></li><li class="list__item" id="-owak77_218"><p><span id="-owak77_223"><b>Игнорирование таймаутов</b></span>: зависшие соединения; выставляйте серверные и клиентские таймауты.</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="-owak77_213"><p>Всегда сохраняйте в логах метод, путь, статус, длительность, корреляционный идентификатор и важные заголовки запроса/ответа для быстрой отладки.</p></aside></section><div class="last-modified">26 сентября 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="backend.html" class="navigation-links__prev">Backend</a><a href="altprotocols.html" class="navigation-links__next">Альтернативные протоколы</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>